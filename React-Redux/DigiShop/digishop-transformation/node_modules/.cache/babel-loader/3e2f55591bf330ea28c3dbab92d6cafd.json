{"ast":null,"code":"import _toConsumableArray from \"D:/Shahrukh Pathan/WW-KT/React-Redux/DigiShop/digishop-transformation/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"D:/Shahrukh Pathan/WW-KT/React-Redux/DigiShop/digishop-transformation/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { act } from \"react-dom/test-utils\";\nvar initialState = {\n  products: [],\n  cart: [],\n  shippingAddress: {\n    name: \"Jos\",\n    email: \"\",\n    phone: \"\",\n    address: \"AB Rd\",\n    city: \"Indore\",\n    postalCode: \"42001\",\n    country: \"India\"\n  }\n};\nvar productsReducer = function productsReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case \"SET_PRODUCTS\":\n      state = _objectSpread(_objectSpread({}, state), {}, {\n        products: action.payload\n      });\n      break;\n    case \"ADD_TO_CART\":\n      var item = state.products.find(function (item) {\n        return item.id === action.payload.id;\n      });\n      var inCart = state.cart.find(function (item) {\n        return item.id === action.payload.id;\n      }) ? true : false;\n      return _objectSpread(_objectSpread({}, state), {}, {\n        // cart: inCart ? state.cart.map((item)=> item.id === action.payload.id ? {...item, qty: item.qty+1} : item )\n        cart: inCart ? state.cart.map(function (item) {\n          return item.id === action.payload.id ? _objectSpread(_objectSpread({}, item), {}, {\n            qty: +action.payload.qty\n          }) : item;\n        }) : [].concat(_toConsumableArray(state.cart), [_objectSpread(_objectSpread({}, item), {}, {\n          qty: action.payload.qty\n        })])\n      });\n    case \"REMOVE_FROM_CART\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        cart: state.cart.filter(function (item) {\n          return item.id !== action.payload.id;\n        })\n      });\n    case \"ADJUST_ITEM_QTY\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        cart: state.cart.map(function (item) {\n          return item.id === action.payload.id ? _objectSpread(_objectSpread({}, item), {}, {\n            qty: +action.payload.qty\n          }) : item;\n        })\n      });\n    case \"LOAD_CURRENT_ITEM\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        currentItem: action.payload\n      });\n    case \"CART_SAVE_SHIPPING_ADDRESS\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        shippingAddress: action.payload\n      });\n    default:\n      return state;\n  }\n  return state;\n};\nexport default productsReducer;","map":{"version":3,"names":["act","initialState","products","cart","shippingAddress","name","email","phone","address","city","postalCode","country","productsReducer","state","action","type","payload","item","find","id","inCart","map","qty","filter","currentItem"],"sources":["D:/Shahrukh Pathan/WW-KT/React-Redux/DigiShop/digishop-transformation/src/Reducers/productsReducer.js"],"sourcesContent":["import { act } from \"react-dom/test-utils\";\r\n\r\nconst initialState = {\r\n  products: [],\r\n  cart: [],\r\n  shippingAddress: {\r\n    name: \"Jos\",\r\n    email:\"\",\r\n    phone:\"\",\r\n    address: \"AB Rd\",\r\n    city: \"Indore\",\r\n    postalCode: \"42001\",\r\n    country: \"India\",\r\n  },\r\n};\r\nconst productsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"SET_PRODUCTS\":\r\n      state = { ...state, products: action.payload };\r\n      break;\r\n    case \"ADD_TO_CART\":\r\n      const item = state.products.find((item) => item.id === action.payload.id);\r\n      const inCart = state.cart.find((item) => item.id === action.payload.id)\r\n        ? true\r\n        : false;\r\n      return {\r\n        ...state,\r\n        // cart: inCart ? state.cart.map((item)=> item.id === action.payload.id ? {...item, qty: item.qty+1} : item )\r\n        cart: inCart\r\n          ? state.cart.map((item) =>\r\n              item.id === action.payload.id\r\n                ? { ...item, qty: +action.payload.qty }\r\n                : item\r\n            )\r\n          : [...state.cart, { ...item, qty: action.payload.qty }],\r\n      };\r\n    case \"REMOVE_FROM_CART\":\r\n      return {\r\n        ...state,\r\n        cart: state.cart.filter((item) => item.id !== action.payload.id),\r\n      };\r\n    case \"ADJUST_ITEM_QTY\":\r\n      return {\r\n        ...state,\r\n        cart: state.cart.map((item) =>\r\n          item.id === action.payload.id\r\n            ? { ...item, qty: +action.payload.qty }\r\n            : item\r\n        ),\r\n      };\r\n    case \"LOAD_CURRENT_ITEM\":\r\n      return {\r\n        ...state,\r\n        currentItem: action.payload,\r\n      };\r\n    case \"CART_SAVE_SHIPPING_ADDRESS\":\r\n      return {\r\n        ...state,\r\n        shippingAddress: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n  return state;\r\n};\r\n\r\nexport default productsReducer;\r\n"],"mappings":";;AAAA,SAASA,GAAG,QAAQ,sBAAsB;AAE1C,IAAMC,YAAY,GAAG;EACnBC,QAAQ,EAAE,EAAE;EACZC,IAAI,EAAE,EAAE;EACRC,eAAe,EAAE;IACfC,IAAI,EAAE,KAAK;IACXC,KAAK,EAAC,EAAE;IACRC,KAAK,EAAC,EAAE;IACRC,OAAO,EAAE,OAAO;IAChBC,IAAI,EAAE,QAAQ;IACdC,UAAU,EAAE,OAAO;IACnBC,OAAO,EAAE;EACX;AACF,CAAC;AACD,IAAMC,eAAe,GAAG,SAAlBA,eAAe,GAAqC;EAAA,IAAjCC,KAAK,uEAAGZ,YAAY;EAAA,IAAEa,MAAM;EACnD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,cAAc;MACjBF,KAAK,mCAAQA,KAAK;QAAEX,QAAQ,EAAEY,MAAM,CAACE;MAAO,EAAE;MAC9C;IACF,KAAK,aAAa;MAChB,IAAMC,IAAI,GAAGJ,KAAK,CAACX,QAAQ,CAACgB,IAAI,CAAC,UAACD,IAAI;QAAA,OAAKA,IAAI,CAACE,EAAE,KAAKL,MAAM,CAACE,OAAO,CAACG,EAAE;MAAA,EAAC;MACzE,IAAMC,MAAM,GAAGP,KAAK,CAACV,IAAI,CAACe,IAAI,CAAC,UAACD,IAAI;QAAA,OAAKA,IAAI,CAACE,EAAE,KAAKL,MAAM,CAACE,OAAO,CAACG,EAAE;MAAA,EAAC,GACnE,IAAI,GACJ,KAAK;MACT,uCACKN,KAAK;QACR;QACAV,IAAI,EAAEiB,MAAM,GACRP,KAAK,CAACV,IAAI,CAACkB,GAAG,CAAC,UAACJ,IAAI;UAAA,OAClBA,IAAI,CAACE,EAAE,KAAKL,MAAM,CAACE,OAAO,CAACG,EAAE,mCACpBF,IAAI;YAAEK,GAAG,EAAE,CAACR,MAAM,CAACE,OAAO,CAACM;UAAG,KACnCL,IAAI;QAAA,EACT,gCACGJ,KAAK,CAACV,IAAI,oCAAOc,IAAI;UAAEK,GAAG,EAAER,MAAM,CAACE,OAAO,CAACM;QAAG;MAAG;IAE7D,KAAK,kBAAkB;MACrB,uCACKT,KAAK;QACRV,IAAI,EAAEU,KAAK,CAACV,IAAI,CAACoB,MAAM,CAAC,UAACN,IAAI;UAAA,OAAKA,IAAI,CAACE,EAAE,KAAKL,MAAM,CAACE,OAAO,CAACG,EAAE;QAAA;MAAC;IAEpE,KAAK,iBAAiB;MACpB,uCACKN,KAAK;QACRV,IAAI,EAAEU,KAAK,CAACV,IAAI,CAACkB,GAAG,CAAC,UAACJ,IAAI;UAAA,OACxBA,IAAI,CAACE,EAAE,KAAKL,MAAM,CAACE,OAAO,CAACG,EAAE,mCACpBF,IAAI;YAAEK,GAAG,EAAE,CAACR,MAAM,CAACE,OAAO,CAACM;UAAG,KACnCL,IAAI;QAAA;MACT;IAEL,KAAK,mBAAmB;MACtB,uCACKJ,KAAK;QACRW,WAAW,EAAEV,MAAM,CAACE;MAAO;IAE/B,KAAK,4BAA4B;MAC/B,uCACKH,KAAK;QACRT,eAAe,EAAEU,MAAM,CAACE;MAAO;IAEnC;MACE,OAAOH,KAAK;EAAC;EAEjB,OAAOA,KAAK;AACd,CAAC;AAED,eAAeD,eAAe"},"metadata":{},"sourceType":"module"}